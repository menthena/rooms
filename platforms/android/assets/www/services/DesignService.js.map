{"version":3,"sources":["app/services/DesignService.ts"],"names":["DesignService","DesignService.constructor","DesignService.getPercentage","DesignService.getPosition","DesignService.getDimension","DesignService.getObservable"],"mappings":";;;;;;;;;AAAA,qBAAuC,eAAe,CAAC,CAAA;AACvD,qBAAyB,MAAM,CAAC,CAAA;AAWhC;IAMEA;QACEC,IAAIA,CAACA,gBAAgBA,GAAGA,iBAAUA;aAC/BA,MAAMA,CAACA,UAAAA,QAAQA;YACdA,MAAMA,CAACA,cAAMA,OAAAA,OAAOA,CAACA,GAAGA,CAACA,UAAUA,CAACA,EAAvBA,CAAuBA,CAACA;QACvCA,CAACA,CAACA,CAACA,OAAOA,EAAEA,CAACA;IACjBA,CAACA;IAEDD,qCAAaA,GAAbA,UAAcA,KAAKA,EAAEA,KAAKA;QACxBE,IAAIA,UAAUA,GAAGA,CAACA,KAAKA,GAAGA,KAAKA,CAACA,GAAGA,GAAGA,CAACA;QACvCA,EAAEA,CAACA,CAACA,UAAUA,GAAGA,CAACA,CAACA,CAACA,CAACA;YACnBA,MAAMA,CAACA,CAACA,CAACA;QACXA,CAACA;QACDA,MAAMA,CAACA,UAAUA,CAACA;IACpBA,CAACA;IAEDF,mCAAWA,GAAXA,UAAYA,KAAKA,EAAEA,SAASA;QAC1BG,IAAIA,OAAOA,GAAGA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;QACnCA,IAAIA,YAAYA,GAAGA,OAAOA,CAACA,KAAKA,EAAEA,CAACA;QACnCA,IAAIA,aAAaA,GAAGA,OAAOA,CAACA,MAAMA,EAAEA,CAACA;QACrCA,IAAIA,aAAaA,GAAGA,OAAOA,CAACA,MAAMA,EAAEA,CAACA;QACrCA,IAAIA,CAACA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,SAASA,CAACA,MAAMA,CAACA,IAAIA,GAAGA,CAACA,GAAGA,aAAaA,CAACA,IAAIA,EAAEA,YAAYA,CAACA,CAACA;QACzFA,IAAIA,CAACA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,SAASA,CAACA,MAAMA,CAACA,GAAGA,GAAGA,CAACA,GAAGA,aAAaA,CAACA,GAAGA,EAAEA,aAAaA,CAACA,CAACA;QACxFA,EAAEA,CAACA,CAACA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;YACXA,CAACA,GAAGA,EAAEA,CAACA;QACTA,CAACA;QACDA,EAAEA,CAACA,CAACA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;YACXA,CAACA,GAAGA,EAAEA,CAACA;QACTA,CAACA;QACDA,MAAMA,CAACA;YACLA,CAACA,EAAEA,CAACA;YACJA,CAACA,EAAEA,CAACA;SACLA,CAACA;IACJA,CAACA;IAEDH,oCAAYA,GAAZA,UAAaA,KAAKA,EAAEA,SAASA;QAC3BI,IAAIA,OAAOA,GAAGA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;QACnCA,IAAIA,YAAYA,GAAGA,OAAOA,CAACA,KAAKA,EAAEA,CAACA;QACnCA,MAAMA,CAACA;YACLA,KAAKA,EAAEA,IAAIA,CAACA,aAAaA,CAACA,YAAYA,EAAEA,MAAMA,CAACA,eAAeA,CAACA,CAACA,KAAKA,EAAEA,CAACA;YACxEA,MAAMA,EAAEA,SAASA,CAACA,MAAMA,CAACA,MAAMA,EAAEA;SAClCA,CAACA;IACJA,CAACA;IAEDJ,qCAAaA,GAAbA;QACEK,MAAMA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA;IAC/BA,CAACA;IAnDHL;QAACA,iBAAUA,EAAEA;;sBAoDZA;IAADA,oBAACA;AAADA,CApDA,AAoDCA,IAAA;AAnDY,qBAAa,gBAmDzB,CAAA","file":"app/services/DesignService.js","sourcesContent":["import {Injectable, EventEmitter} from 'angular2/core';\nimport {Observable} from 'rxjs';\n\ndeclare var jQuery: any;\n\ninterface IDesignService {\n  getPercentage(offset: Number, screen: Number) : Number;\n  getPosition(event: any, draggable: any) : Object;\n  getDimension(event: any, draggable: any) : Object;\n  getObservable() : Observable<Object>;\n}\n\n@Injectable()\nexport class DesignService implements IDesignService {\n  designObservable: Observable<Object>;\n  designStateObserver: Observable<boolean>;\n  public designModeState: boolean;\n\n  constructor() {\n    this.designObservable = Observable\n      .create(observer => {\n        return () => console.log('disposed');\n      }).publish();\n  }\n\n  getPercentage(value, total) {\n    let percentage = (value / total) * 100;\n    if (percentage < 0) {\n      return 0;\n    }\n    return percentage;\n  }\n\n  getPosition(event, draggable) {\n    let element = jQuery(event.target);\n    let elementWidth = element.width();\n    let elementHeight = element.height();\n    let elementOffset = element.offset();\n    let x = this.getPercentage(draggable.offset.left - 8 - elementOffset.left, elementWidth);\n    let y = this.getPercentage(draggable.offset.top - 8 - elementOffset.top, elementHeight);\n    if (x > 85) {\n      x = 85;\n    }\n    if (y > 83) {\n      y = 83;\n    }\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  getDimension(event, draggable) {\n    let element = jQuery(event.target);\n    let elementWidth = element.width();\n    return {\n      width: this.getPercentage(elementWidth, jQuery('.ui-droppable').width()),\n      height: draggable.helper.height()\n    };\n  }\n\n  getObservable() {\n    return this.designObservable;\n  }\n}\n"],"sourceRoot":"/source/"}