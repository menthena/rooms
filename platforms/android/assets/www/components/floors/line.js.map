{"version":3,"sources":["app/components/floors/line.ts"],"names":["Line","Line.constructor","Line.rotate","Line.destroy","Line.editElement"],"mappings":";;;;;;;;;AAAA,qBAAmD,eAAe,CAAC,CAAA;AAEnE,qCAAmC,qCAAqC,CAAC,CAAA;AACzE,0BAAwB,4BAA4B,CAAC,CAAA;AACrD,8BAA4B,8BAA8B,CAAC,CAAA;AAC3D,6BAA0B,wBAAwB,CAAC,CAAA;AACnD,0BAAwB,4BAA4B,CAAC,CAAA;AAIrD;IAyBEA,cAAYA,aAA4BA,EAAUA,oBAA0CA;QAA1CC,yBAAoBA,GAApBA,oBAAoBA,CAAsBA;QAC1FA,IAAIA,CAACA,UAAUA,GAAGA,aAAaA,CAACA,eAAeA,CAACA;QAChDA,IAAIA,CAACA,gBAAgBA,GAAGA,aAAaA,CAACA,aAAaA,EAAEA,CAACA;IACxDA,CAACA;IAEDD,qBAAMA,GAANA;QACEE,IAAIA,KAAKA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,YAAYA,CAACA;QACnCA,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,aAAaA,CAACA;QACrCA,OAAOA,CAACA,GAAGA,CAACA,IAAIA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA;QACvCA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAACA;YAC/BA,KAAKA,GAAGA,CAACA,CAACA;YACVA,MAAMA,GAAGA,EAAEA,CAACA;QACdA,CAACA;QAACA,IAAIA,CAACA,CAACA;YACNA,KAAKA,GAAGA,EAAEA,CAACA;YACXA,MAAMA,GAAGA,CAACA,CAACA;QACbA,CAACA;QACDA,IAAIA,CAACA,oBAAoBA,CAACA,WAAWA,CAACA,IAAIA,CAACA,IAAIA,CAACA,SAASA,EAAEA;YACzDA,OAAOA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,OAAOA;YAC1BA,YAAYA,EAAEA,KAAKA;YACnBA,aAAaA,EAAEA,MAAMA;YACrBA,eAAeA,EAAEA,CAACA,IAAIA,CAACA,IAAIA,CAACA,eAAeA;SAC5CA,CAACA,CAACA;IACLA,CAACA;IAEDF,sBAAOA,GAAPA;QACEG,IAAIA,CAACA,oBAAoBA;aACtBA,aAAaA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA;IAC3DA,CAACA;IAEDH,0BAAWA,GAAXA;QACEI,IAAIA,CAACA,gBAAgBA;aAClBA,YAAYA;aACZA,IAAIA,CAACA;YACJA,IAAIA,EAAEA,MAAMA;YACZA,IAAIA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,SAASA;SAC1BA,CAACA,CAACA;IACPA,CAACA;IAxCDJ;QAACA,YAAKA,EAAEA;;OAACA,sBAAIA,UAACA;IArBhBA;QAACA,gBAASA,CAACA;YACTA,QAAQA,EAAEA,MAAMA;YAChBA,UAAUA,EAAEA,CAAEA,qBAASA,EAAEA,qBAASA,EAAEA,0BAAWA,CAACA;YAChDA,MAAMA,EAAEA,CAACA,MAAMA,CAACA;YAChBA,SAASA,EAAEA,CAACA,wBAAwBA,EAAEA,4BAA4BA,CAACA;YACnEA,QAAQA,EAAEA,kpBAYTA;SACFA,CAACA;;aA4CDA;IAADA,WAACA;;AAADA,CA9DA,AA8DCA,IAAA;AA1CY,YAAI,OA0ChB,CAAA","file":"app/components/floors/line.js","sourcesContent":["import {Component, Input, OnInit, ElementRef} from 'angular2/core';\nimport {Observable} from 'rxjs';\nimport {FloorElementsService} from '../../services/FloorElementsService';\nimport {Resizable} from '../../directives/resizable';\nimport {DesignService} from '../../services/DesignService';\nimport {EditElement} from '../design/edit-element';\nimport {Draggable} from '../../directives/draggable';\n\ndeclare var jQuery:any;\n\n@Component({\n  selector: 'line',\n  directives: [ Resizable, Draggable, EditElement],\n  inputs: ['data'],\n  styleUrls: ['styles/floors/line.css', 'styles/common/controls.css'],\n  template: `\n    <div class=\"wrapper control\" resizable-element draggable-element\n      [containment]=\"'#floor' + data.floorID\" [data]=\"data\" [attr.element-id]=\"data.elementID\" [attr.data-id]=\"data.floorID\">\n      <div class=\"line\" [class.vertical]=\"data.elementVertical\">\n        <a (click)=\"rotate()\" class=\"rotate-icon\" *ngIf=\"designMode\">\n          <i class=\"fa\" [class.fa-repeat]=\"!data.elementVertical\" [class.fa-undo]=\"data.elementVertical\"></i>\n        </a>\n      </div>\n      <div class=\"hover-controls\" *ngIf=\"designMode\">\n        <a (click)=\"destroy()\"><i class=\"fa fa-trash\"></i></a>\n      </div>\n    </div>\n  `\n})\n\nexport class Line {\n  @Input() data;\n  designObservable;\n  designMode;\n\n  constructor(DesignService: DesignService, private FloorElementsService: FloorElementsService) {\n    this.designMode = DesignService.designModeState;\n    this.designObservable = DesignService.getObservable();\n  }\n\n  rotate() {\n    let width = this.data.elementWidth;\n    let height = this.data.elementHeight;\n    console.log(this.data.elementVertical);\n    if (!this.data.elementVertical) {\n      width = 3;\n      height = 45;\n    } else {\n      width = 10;\n      height = 3;\n    }\n    this.FloorElementsService.editElement(this.data.elementID, {\n      floorID: this.data.floorID,\n      elementWidth: width,\n      elementHeight: height,\n      elementVertical: !this.data.elementVertical\n    });\n  }\n\n  destroy() {\n    this.FloorElementsService\n      .deleteElement(this.data.floorID, this.data.elementID);\n  }\n\n  editElement() {\n    this.designObservable\n      .subscription\n      .next({\n        type: 'edit',\n        data: this.data.elementID\n      });\n  }\n}\n"],"sourceRoot":"/source/"}