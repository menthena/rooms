{"version":3,"sources":["app/components/common/header.ts"],"names":["Header","Header.constructor","Header.ngOnChanges","Header.qeqwq","Header.handleClick"],"mappings":"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","file":"app/components/common/header.js","sourcesContent":["import {Component, Input} from 'angular2/core';\nimport {RouterLink, Router, Location} from 'angular2/router';\nimport {UserService} from '../../services/UserService';\nimport {CLIENT_ID, SCOPES} from '../../config/constants';\nimport {IONIC_DIRECTIVES, NavController, Modal} from 'ionic-framework/ionic';\nimport {AppService} from '../../services/AppService';\nimport {Filter} from '../reservation/filter';\n\ndeclare var gapi: any;\n\n@Component({\n  selector: 'header',\n  inputs: ['logged'],\n  directives: [RouterLink, IONIC_DIRECTIVES],\n  template: `\n  <div *ngIf=\"isIonic && currentRoute !== 'index'\">\n    <ion-tabs>\n      <ion-tab tabIcon=\"water\" tabTitle=\"Water\" [root]=\"tab1\"></ion-tab>\n      <ion-tab tabIcon=\"leaf\" tabTitle=\"Life\" [root]=\"tab2\"></ion-tab>\n      <ion-tab tabIcon=\"flame\" tabTitle=\"Fire\" [root]=\"tab3\"></ion-tab>\n      <ion-tab tabIcon=\"magnet\" tabTitle=\"Force\" [root]=\"tab4\"></ion-tab>\n    </ion-tabs>\n  </div>\n\n  <header *ngIf=\"!isIonic && currentRoute !== 'index' && currentRoute !== ''\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-sm-3 col-xs-4\">\n          <a [routerLink]=\"['/Reserve']\" class=\"logo\">Rooms</a>\n        </div>\n        <div class=\"col-sm-6 hidden-xs\" *ngIf=\"logged\">\n          <ul class=\"list-inline\">\n            <li><a [routerLink]=\"['/Reserve']\">Reserve</a></li>\n            <li><a [routerLink]=\"['/Design']\">Design</a></li>\n            <li><a [routerLink]=\"['/Reservations']\">Reservations</a></li>\n            <li><a [routerLink]=\"['/Accounts']\">Account</a></li>\n          </ul>\n        </div>\n        <div class=\"col-sm-3 hidden-xs text-right\" *ngIf=\"logged\">\n          <span>{{ userData.name }}</span>\n          <a href=\"/oauth/logout\">Logout</a>\n        </div>\n        <div class=\"col-sm-9 hidden-xs text-right\" *ngIf=\"!logged\">\n          <ul class=\"list-inline\">\n            <li><a [routerLink]=\"['/Login']\">Login</a></li>\n            <li><a [routerLink]=\"['/Register']\">Register</a></li>\n          </ul>\n        </div>\n        <div class=\"col-xs-8 visible-xs text-right\">\n          <a href><i class=\"fa fa-bars\"></i> Menu</a>\n        </div>\n      </div>\n    </div>\n  </header>\n  <ion-menu [content]=\"content\">\n     <ion-toolbar>\n       <ion-title>Pages</ion-title>\n     </ion-toolbar>\n     <ion-content>\n       <ion-list>\n         <button ion-item (click)=\"openPage(loginPage)\">\n           Login\n         </button>\n         <button ion-item (click)=\"openPage(signupPage)\">\n           Signup\n         </button>\n       </ion-list>\n     </ion-content>\n   </ion-menu>\n  `,\n  styleUrls: ['styles/common/header.css']\n})\n\nexport class Header {\n  @Input() logged: boolean;\n  isIonic: boolean;\n  userData: Object;\n  currentRoute: string;\n  nav: NavController;\n\n  constructor(private UserService: UserService, private AppService: AppService, private Router: Router,\n      private Location: Location) {\n    this.currentRoute = this.Location.path().substring(1);\n    this.Router.subscribe((route) => {\n      this.currentRoute = route;\n    });\n    this.userData = {};\n    this.isIonic = this.AppService.isIonic;\n  }\n\n  ngOnChanges() {\n    if (this.UserService.userData) {\n      this.userData = this.UserService.userData;\n    }\n  }\n\n  qeqwq() {\n    console.log('aaa');\n    alert('a');\n    // let myModal = Modal.create(Filter);\n    // this.nav.present(myModal);\n  }\n\n  handleClick() {\n    gapi.auth.authorize({\n      client_id: CLIENT_ID,\n      scope: SCOPES,\n      immediate: false\n    },\n      (res) => {\n        gapi.client.load('calendar', 'v3', () => {\n          var request = gapi.client.calendar.events.list({\n            'calendarId': 'primary',\n            'timeMin': (new Date()).toISOString(),\n            'showDeleted': false,\n            'singleEvents': true,\n            'maxResults': 10,\n            'orderBy': 'startTime'\n          });\n\n          request.execute(function(resp) {\n            var events = resp.items;\n            console.log('Upcoming events:');\n\n            if (events.length > 0) {\n              for (let i = 0; i < events.length; i++) {\n                var event = events[i];\n                var when = event.start.dateTime;\n                if (!when) {\n                  when = event.start.date;\n                }\n                console.log(event.summary + ' (' + when + ')');\n              }\n            } else {\n              console.log('No upcoming events found.');\n            }\n\n          });\n\n          var event = {\n            'summary': 'Google I/O 2015',\n            'location': '800 Howard St., San Francisco, CA 94103',\n            'description': 'A chance to hear more about Google\\'s developer products.',\n            'start': {\n              'dateTime': '2015-05-28T09:00:00-07:00',\n              'timeZone': 'America/Los_Angeles'\n            },\n            'end': {\n              'dateTime': '2015-05-28T17:00:00-07:00',\n              'timeZone': 'America/Los_Angeles'\n            },\n            'recurrence': [\n              'RRULE:FREQ=DAILY;COUNT=2'\n            ],\n            'attendees': [\n              {'email': 'lpage@example.com'},\n              {'email': 'sbrin@example.com'}\n            ],\n            'reminders': {\n              'useDefault': false,\n              'overrides': [\n                {'method': 'email', 'minutes': 24 * 60},\n                {'method': 'popup', 'minutes': 10}\n              ]\n            }\n          };\n\n          request = gapi.client.calendar.events.insert({\n            'calendarId': 'primary',\n            'resource': event\n          });\n\n          request.execute(function(event) {\n            console.log('Event created: ' + event.htmlLink);\n          });\n\n        });\n\n      });\n  }\n}\n"],"sourceRoot":"/source/"}