{"version":3,"sources":["app/components/common/header.ts"],"names":["Header","Header.constructor","Header.ngOnChanges","Header.handleClick"],"mappings":"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","file":"app/components/common/header.js","sourcesContent":["import {Component, Input} from 'angular2/core';\nimport {RouterLink} from 'angular2/router';\nimport {UserService} from '../../services/UserService';\nimport {CLIENT_ID, SCOPES} from '../../constants';\n\ndeclare var gapi: any;\n\n@Component({\n  selector: 'header',\n  inputs: ['logged'],\n  directives: [RouterLink],\n  template: `\n  <header>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-sm-3 col-xs-4\">\n          <a [routerLink]=\"['/Reserve']\" class=\"logo\">Rooms</a>\n        </div>\n        <div class=\"col-sm-6 hidden-xs\" *ngIf=\"logged\">\n          <ul class=\"list-inline\">\n            <li><a [routerLink]=\"['/Reserve']\">Reserve</a></li>\n            <li><a [routerLink]=\"['/Design']\">Design</a></li>\n            <li><a [routerLink]=\"['/Reservations']\">Reservations</a></li>\n            <li><a [routerLink]=\"['/Accounts']\">Account</a></li>\n          </ul>\n        </div>\n        <div class=\"col-sm-3 hidden-xs text-right\" *ngIf=\"logged\">\n          <span>{{ userData.name }}</span>\n          <a href=\"/oauth/logout\">Logout</a>\n        </div>\n        <div class=\"col-sm-9 hidden-xs text-right\" *ngIf=\"!logged\">\n          <ul class=\"list-inline\">\n            <li><a [routerLink]=\"['/Login']\">Login</a></li>\n            <li><a [routerLink]=\"['/Register']\">Register</a></li>\n          </ul>\n        </div>\n        <div class=\"col-xs-8 visible-xs text-right\">\n          <a href><i class=\"fa fa-bars\"></i> Menu</a>\n        </div>\n      </div>\n    </div>\n  </header>\n  `,\n  styleUrls: ['styles/common/header.css']\n})\n\nexport class Header {\n  @Input() logged: boolean;\n  userData: Object;\n\n  constructor(private UserService: UserService) {\n    this.userData = {};\n  }\n\n  ngOnChanges() {\n    if (this.UserService.userData) {\n      this.userData = this.UserService.userData;\n    }\n  }\n\n  handleClick() {\n    gapi.auth.authorize({\n      client_id: CLIENT_ID,\n      scope: SCOPES,\n      immediate: false\n    },\n      (res) => {\n        gapi.client.load('calendar', 'v3', () => {\n          var request = gapi.client.calendar.events.list({\n            'calendarId': 'primary',\n            'timeMin': (new Date()).toISOString(),\n            'showDeleted': false,\n            'singleEvents': true,\n            'maxResults': 10,\n            'orderBy': 'startTime'\n          });\n\n          request.execute(function(resp) {\n            var events = resp.items;\n            console.log('Upcoming events:');\n\n            if (events.length > 0) {\n              for (let i = 0; i < events.length; i++) {\n                var event = events[i];\n                var when = event.start.dateTime;\n                if (!when) {\n                  when = event.start.date;\n                }\n                console.log(event.summary + ' (' + when + ')');\n              }\n            } else {\n              console.log('No upcoming events found.');\n            }\n\n          });\n\n          var event = {\n            'summary': 'Google I/O 2015',\n            'location': '800 Howard St., San Francisco, CA 94103',\n            'description': 'A chance to hear more about Google\\'s developer products.',\n            'start': {\n              'dateTime': '2015-05-28T09:00:00-07:00',\n              'timeZone': 'America/Los_Angeles'\n            },\n            'end': {\n              'dateTime': '2015-05-28T17:00:00-07:00',\n              'timeZone': 'America/Los_Angeles'\n            },\n            'recurrence': [\n              'RRULE:FREQ=DAILY;COUNT=2'\n            ],\n            'attendees': [\n              {'email': 'lpage@example.com'},\n              {'email': 'sbrin@example.com'}\n            ],\n            'reminders': {\n              'useDefault': false,\n              'overrides': [\n                {'method': 'email', 'minutes': 24 * 60},\n                {'method': 'popup', 'minutes': 10}\n              ]\n            }\n          };\n\n          request = gapi.client.calendar.events.insert({\n            'calendarId': 'primary',\n            'resource': event\n          });\n\n          request.execute(function(event) {\n            console.log('Event created: ' + event.htmlLink);\n          });\n\n        });\n\n      });\n  }\n}\n"],"sourceRoot":"/source/"}