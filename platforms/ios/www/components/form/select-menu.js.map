{"version":3,"sources":["app/components/form/select-menu.ts"],"names":["SelectMenu","SelectMenu.constructor","SelectMenu.updateModel","SelectMenu.ngOnInit"],"mappings":";;;;;;;;;AAAA,qBAAsE,eAAe,CAAC,CAAA;AAItF;IAaEA,oBAAoBA,UAAsBA;QAAtBC,eAAUA,GAAVA,UAAUA,CAAYA;IAAGA,CAACA;IAE9CD,gCAAWA,GAAXA,UAAYA,KAAKA;QACfE,MAAMA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,CAACA,GAAGA,CAACA,KAAKA,CAACA,CAACA;QAC1CA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,GAAGA,KAAKA,CAACA;QAC/CA,IAAIA,CAACA,SAASA,CAACA,YAAYA,CAACA,IAAIA,CAACA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,CAACA;IACzDA,CAACA;IAEDF,6BAAQA,GAARA;QAAAG,iBA2BCA;QA1BCA,IAAIA,SAASA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,aAAaA,CAACA,CAACA;QACtDA,IAAIA,OAAOA,GAAQA;YACjBA,KAAKA,EAAEA,OAAOA;YACdA,KAAKA,EAAEA,MAAMA;YACbA,MAAMA,EAAEA,UAACA,CAACA,EAAEA,GAAGA;gBACbA,IAAIA,KAAKA,GAAGA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,CAACA;gBAC3BA,KAAIA,CAACA,WAAWA,CAACA,KAAKA,CAACA,CAACA;YAC1BA,CAACA;SACFA,CAACA;QAEFA,EAAEA,CAACA,CAACA,IAAIA,CAACA,YAAYA,KAAKA,OAAOA,CAACA,CAACA,CAACA;YAClCA,OAAOA,CAACA,MAAMA,GAAGA,CAACA;gBAChBA,IAAIA,KAAKA,GAAGA,sDAAsDA,CAACA;gBACnEA,MAAMA,CAACA,MAAMA,CAACA,SAASA,CAACA;qBACfA,MAAMA,CAACA,KAAKA,CAACA;qBACbA,SAASA,CAACA;YACrBA,CAACA,CAACA,CAACA;QACLA,CAACA;QACDA,SAASA;aACNA,UAAUA,CAACA,OAAOA,CAACA;aACnBA,UAAUA,CAACA,YAAYA,CAACA;aACxBA,QAAQA,CAACA,eAAeA,CAACA,CAACA;QAC7BA,UAAUA,CAACA;YACTA,SAASA,CAACA,GAAGA,CAACA,KAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,KAAIA,CAACA,WAAWA,CAACA,CAACA,CAACA;YACtDA,SAASA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA;QAClCA,CAACA,EAAEA,GAAGA,CAACA,CAACA;IACVA,CAACA;IAtCDH;QAACA,YAAKA,EAAEA;;OAACA,mCAAWA,UAASA;IAC7BA;QAACA,YAAKA,EAAEA;;OAACA,iCAASA,UAAMA;IACxBA;QAACA,YAAKA,EAAEA;;OAACA,oCAAYA,UAAMA;IAZ7BA;QAACA,gBAASA,CAACA;YACTA,QAAQA,EAAEA,eAAeA;YACzBA,MAAMA,EAAEA,CAACA,WAAWA,CAACA;YACrBA,UAAUA,EAAEA,CAACA,aAAaA,EAAEA,cAAcA,CAACA;YAC3CA,SAASA,EAAEA,CAACA,6BAA6BA,CAACA;YAC1CA,aAAaA,EAAEA,wBAAiBA,CAACA,IAAIA;YACrCA,QAAQA,EAAEA,2BAA2BA;SACtCA,CAACA;;mBA0CDA;IAADA,iBAACA;;AAADA,CAjDA,AAiDCA,IAAA;AAxCY,kBAAU,aAwCtB,CAAA;AAAA,CAAC","file":"app/components/form/select-menu.js","sourcesContent":["import {Component, OnInit, ElementRef, ViewEncapsulation, Input} from 'angular2/core';\n\ndeclare var jQuery:any;\n\n@Component({\n  selector: '[select-menu]',\n  inputs: ['formModel'],\n  properties: ['controlName', 'selectFormat'],\n  styleUrls: ['styles/form/select-menu.css'],\n  encapsulation: ViewEncapsulation.None,\n  template: `<ng-content></ng-content>`\n})\n\nexport class SelectMenu implements OnInit {\n  @Input() controlName: string;\n  @Input() formModel: any;\n  @Input() selectFormat: any;\n  constructor(private elementRef: ElementRef) {}\n\n  updateModel(value) {\n    jQuery('#' + this.controlName).val(value);\n    this.formModel.value[this.controlName] = value;\n    this.formModel.valueChanges.next(this.formModel.value);\n  }\n\n  ngOnInit() {\n    let selectBox = jQuery(this.elementRef.nativeElement);\n    let options: any = {\n      style: 'popup',\n      width: 'auto',\n      select: (e, obj) => {\n        let value = obj.item.value;\n        this.updateModel(value);\n      }\n    };\n\n    if (this.selectFormat === 'input') {\n      options.format = (() => {\n        let input = '<input class=\"other\" type=\"text\" value=\"Other...\" />';\n        return jQuery('<span/>')\n                .append(input)\n                .outerHTML;\n      });\n    }\n    selectBox\n      .selectmenu(options)\n      .selectmenu('menuWidget')\n      .addClass('max-selectbox');\n    setTimeout(() => {\n      selectBox.val(this.formModel.value[this.controlName]);\n      selectBox.selectmenu('refresh');\n    }, 200);\n  }\n};\n"],"sourceRoot":"/source/"}