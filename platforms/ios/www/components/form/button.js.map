{"version":3,"sources":["app/components/form/button.ts"],"names":["Button","Button.constructor","Button.getValues","Button.updateModel","Button.ngOnInit"],"mappings":";;;;;;;;;AAAA,qBAAsE,eAAe,CAAC,CAAA;AAItF;IAYEA,gBAAoBA,UAAsBA;QAAtBC,eAAUA,GAAVA,UAAUA,CAAYA;IAAGA,CAACA;IAE9CD,0BAASA,GAATA;QACEE,IAAIA,MAAMA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;QACvEA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA,CAACA,KAAKA,EAAEA,IAAIA,MAAMA,CAACA,CAACA,CAACA,KAAKA,MAAMA,CAACA,CAACA,CAACA,CAACA;YACrEA,MAAMA,GAAGA,EAAEA,CAACA;QACdA,CAACA;QACDA,MAAMA,CAACA,MAAMA,CAACA;IAChBA,CAACA;IAEDF,4BAAWA,GAAXA,UAAYA,MAAMA,EAAEA,KAAKA;QACvBG,MAAMA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,CAACA,IAAIA,CAACA,SAASA,EAAEA,KAAKA,CAACA,CAACA;QACtDA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,GAAGA,MAAMA,CAACA;QAChDA,IAAIA,CAACA,SAASA,CAACA,YAAYA,CAACA,IAAIA,CAACA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,CAACA;IACzDA,CAACA;IAEDH,yBAAQA,GAARA;QAAAI,iBA4BCA;QA3BCA,IAAIA,aAAaA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,aAAaA,CAACA,CAACA;QAC1DA,aAAaA,CAACA,MAAMA,CAACA;YACnBA,IAAIA,EAAEA,KAAKA;SACZA,CAACA,CAACA;QAEHA,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,SAASA,EAAEA,CAACA;QAC9BA,IAAIA,KAAKA,GAAGA,aAAaA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QACrCA,IAAIA,KAAKA,GAAGA,MAAMA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;QAClCA,EAAEA,CAACA,CAACA,KAAKA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA;YACfA,IAAIA,CAACA,WAAWA,CAACA,MAAMA,EAAEA,KAAKA,CAACA,CAACA;QAClCA,CAACA;QAEDA,aAAaA,CAACA,MAAMA,CAACA,UAACA,CAACA;YACrBA,IAAIA,MAAMA,GAAGA,KAAIA,CAACA,SAASA,EAAEA,CAACA;YAE9BA,IAAIA,SAASA,GAAGA,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA;YACjDA,IAAIA,KAAKA,GAAGA,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;YACxCA,IAAIA,KAAKA,GAAGA,MAAMA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;YAClCA,EAAEA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA;gBACdA,EAAEA,CAACA,CAACA,KAAKA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACjBA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;gBACrBA,CAACA;YACHA,CAACA;YAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,KAAKA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACtBA,MAAMA,CAACA,MAAMA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA;YAC1BA,CAACA;YACDA,KAAIA,CAACA,WAAWA,CAACA,MAAMA,EAAEA,KAAKA,CAACA,CAACA;QAClCA,CAACA,CAACA,CAACA;IACLA,CAACA;IA9CDJ;QAACA,YAAKA,EAAEA;;OAACA,+BAAWA,UAASA;IAC7BA;QAACA,YAAKA,EAAEA;;OAACA,6BAASA,UAAMA;IAX1BA;QAACA,gBAASA,CAACA;YACTA,QAAQA,EAAEA,UAAUA;YACpBA,MAAMA,EAAEA,CAACA,WAAWA,CAACA;YACrBA,UAAUA,EAAEA,CAACA,aAAaA,CAACA;YAC3BA,SAASA,EAAEA,CAACA,wBAAwBA,CAACA;YACrCA,aAAaA,EAAEA,wBAAiBA,CAACA,IAAIA;YACrCA,QAAQA,EAAEA,2BAA2BA;SACtCA,CAACA;;eAkDDA;IAADA,aAACA;;AAADA,CAzDA,AAyDCA,IAAA;AAhDY,cAAM,SAgDlB,CAAA;AAAA,CAAC","file":"app/components/form/button.js","sourcesContent":["import {Component, OnInit, Input, ElementRef, ViewEncapsulation} from 'angular2/core';\n\ndeclare var jQuery:any;\n\n@Component({\n  selector: '[button]',\n  inputs: ['formModel'],\n  properties: ['controlName'],\n  styleUrls: ['styles/form/button.css'],\n  encapsulation: ViewEncapsulation.None,\n  template: `<ng-content></ng-content>`\n})\n\nexport class Button implements OnInit {\n  @Input() controlName: string;\n  @Input() formModel: any;\n  constructor(private elementRef: ElementRef) {}\n\n  getValues() {\n    let values = String(this.formModel.value[this.controlName]).split(',');\n    if (values.length <= 1 && (values[0] === '' || values[0] === 'null')) {\n      values = [];\n    }\n    return values;\n  }\n\n  updateModel(values, value) {\n    jQuery('#' + this.controlName).prop('checked', value);\n    this.formModel.value[this.controlName] = values;\n    this.formModel.valueChanges.next(this.formModel.value);\n  }\n\n  ngOnInit() {\n    let buttonElement = jQuery(this.elementRef.nativeElement);\n    buttonElement.button({\n      text: false\n    });\n\n    let values = this.getValues();\n    let value = buttonElement.prop('id');\n    let index = values.indexOf(value);\n    if (index > -1) {\n      this.updateModel(values, value);\n    }\n\n    buttonElement.change((e) => {\n      let values = this.getValues();\n\n      let isChecked = jQuery(e.target).prop('checked');\n      let value = jQuery(e.target).prop('id');\n      let index = values.indexOf(value);\n      if (isChecked) {\n        if (index === -1) {\n          values.push(value);\n        }\n      } else if (index > -1) {\n        values.splice(index, 1);\n      }\n      this.updateModel(values, value);\n    });\n  }\n};\n"],"sourceRoot":"/source/"}