{"version":3,"sources":["app/services/DesignService.ts"],"names":["DesignService","DesignService.constructor","DesignService.getPercentage","DesignService.getPosition","DesignService.getDimension","DesignService.getObservable"],"mappings":";;;;;;;;;;;;;;;;;;;;;YAYA;gBAMEA;oBACEC,IAAIA,CAACA,gBAAgBA,GAAGA,iBAAUA;yBAC/BA,MAAMA,CAACA,UAAAA,QAAQA;wBACdA,MAAMA,CAACA,cAAMA,OAAAA,OAAOA,CAACA,GAAGA,CAACA,UAAUA,CAACA,EAAvBA,CAAuBA,CAACA;oBACvCA,CAACA,CAACA,CAACA,OAAOA,EAAEA,CAACA;gBACjBA,CAACA;gBAEDD,qCAAaA,GAAbA,UAAcA,KAAKA,EAAEA,KAAKA;oBACxBE,IAAIA,UAAUA,GAAGA,CAACA,KAAKA,GAAGA,KAAKA,CAACA,GAAGA,GAAGA,CAACA;oBACvCA,EAAEA,CAACA,CAACA,UAAUA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBACnBA,MAAMA,CAACA,CAACA,CAACA;oBACXA,CAACA;oBACDA,MAAMA,CAACA,UAAUA,CAACA;gBACpBA,CAACA;gBAEDF,mCAAWA,GAAXA,UAAYA,KAAKA,EAAEA,SAASA;oBAC1BG,IAAIA,OAAOA,GAAGA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;oBACnCA,IAAIA,YAAYA,GAAGA,OAAOA,CAACA,KAAKA,EAAEA,CAACA;oBACnCA,IAAIA,aAAaA,GAAGA,OAAOA,CAACA,MAAMA,EAAEA,CAACA;oBACrCA,IAAIA,aAAaA,GAAGA,OAAOA,CAACA,MAAMA,EAAEA,CAACA;oBACrCA,IAAIA,CAACA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,SAASA,CAACA,MAAMA,CAACA,IAAIA,GAAGA,CAACA,GAAGA,aAAaA,CAACA,IAAIA,EAAEA,YAAYA,CAACA,CAACA;oBACzFA,IAAIA,CAACA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,SAASA,CAACA,MAAMA,CAACA,GAAGA,GAAGA,CAACA,GAAGA,aAAaA,CAACA,GAAGA,EAAEA,aAAaA,CAACA,CAACA;oBACxFA,EAAEA,CAACA,CAACA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;wBACXA,CAACA,GAAGA,EAAEA,CAACA;oBACTA,CAACA;oBACDA,EAAEA,CAACA,CAACA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;wBACXA,CAACA,GAAGA,EAAEA,CAACA;oBACTA,CAACA;oBACDA,MAAMA,CAACA;wBACLA,CAACA,EAAEA,CAACA;wBACJA,CAACA,EAAEA,CAACA;qBACLA,CAACA;gBACJA,CAACA;gBAEDH,oCAAYA,GAAZA,UAAaA,KAAKA,EAAEA,SAASA;oBAC3BI,IAAIA,OAAOA,GAAGA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;oBACnCA,IAAIA,YAAYA,GAAGA,OAAOA,CAACA,KAAKA,EAAEA,CAACA;oBACnCA,MAAMA,CAACA;wBACLA,KAAKA,EAAEA,IAAIA,CAACA,aAAaA,CAACA,YAAYA,EAAEA,MAAMA,CAACA,eAAeA,CAACA,CAACA,KAAKA,EAAEA,CAACA;wBACxEA,MAAMA,EAAEA,SAASA,CAACA,MAAMA,CAACA,MAAMA,EAAEA;qBAClCA,CAACA;gBACJA,CAACA;gBAEDJ,qCAAaA,GAAbA;oBACEK,MAAMA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA;gBAC/BA,CAACA;gBAnDHL;oBAACA,iBAAUA,EAAEA;;kCAoDZA;gBAADA,oBAACA;YAADA,CApDA,AAoDCA,IAAA;YApDD,yCAoDC,CAAA","file":"app/services/DesignService.js","sourcesContent":["import {Injectable, EventEmitter} from 'angular2/core';\nimport {Observable} from 'rxjs';\n\ndeclare var jQuery: any;\n\ninterface IDesignService {\n  getPercentage(offset: Number, screen: Number) : Number;\n  getPosition(event: any, draggable: any) : Object;\n  getDimension(event: any, draggable: any) : Object;\n  getObservable() : Observable<Object>;\n}\n\n@Injectable()\nexport class DesignService implements IDesignService {\n  designObservable: Observable<Object>;\n  designStateObserver: Observable<boolean>;\n  public designModeState: boolean;\n\n  constructor() {\n    this.designObservable = Observable\n      .create(observer => {\n        return () => console.log('disposed');\n      }).publish();\n  }\n\n  getPercentage(value, total) {\n    let percentage = (value / total) * 100;\n    if (percentage < 0) {\n      return 0;\n    }\n    return percentage;\n  }\n\n  getPosition(event, draggable) {\n    let element = jQuery(event.target);\n    let elementWidth = element.width();\n    let elementHeight = element.height();\n    let elementOffset = element.offset();\n    let x = this.getPercentage(draggable.offset.left - 8 - elementOffset.left, elementWidth);\n    let y = this.getPercentage(draggable.offset.top - 8 - elementOffset.top, elementHeight);\n    if (x > 85) {\n      x = 85;\n    }\n    if (y > 83) {\n      y = 83;\n    }\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  getDimension(event, draggable) {\n    let element = jQuery(event.target);\n    let elementWidth = element.width();\n    return {\n      width: this.getPercentage(elementWidth, jQuery('.ui-droppable').width()),\n      height: draggable.helper.height()\n    };\n  }\n\n  getObservable() {\n    return this.designObservable;\n  }\n}\n"],"sourceRoot":"/source/"}