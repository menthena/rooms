{"version":3,"sources":["app/components/form/select-menu.ts"],"names":["SelectMenu","SelectMenu.constructor","SelectMenu.updateModel","SelectMenu.ngOnInit"],"mappings":";;;;;;;;;;;;;;;;;;YAIA;gBAaEA,oBAAoBA,UAAsBA;oBAAtBC,eAAUA,GAAVA,UAAUA,CAAYA;gBAAGA,CAACA;gBAE9CD,gCAAWA,GAAXA,UAAYA,KAAKA;oBACfE,MAAMA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,CAACA,GAAGA,CAACA,KAAKA,CAACA,CAACA;oBAC1CA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,GAAGA,KAAKA,CAACA;oBAC/CA,IAAIA,CAACA,SAASA,CAACA,YAAYA,CAACA,IAAIA,CAACA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,CAACA;gBACzDA,CAACA;gBAEDF,6BAAQA,GAARA;oBAAAG,iBA2BCA;oBA1BCA,IAAIA,SAASA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,aAAaA,CAACA,CAACA;oBACtDA,IAAIA,OAAOA,GAAQA;wBACjBA,KAAKA,EAAEA,OAAOA;wBACdA,KAAKA,EAAEA,MAAMA;wBACbA,MAAMA,EAAEA,UAACA,CAACA,EAAEA,GAAGA;4BACbA,IAAIA,KAAKA,GAAGA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,CAACA;4BAC3BA,KAAIA,CAACA,WAAWA,CAACA,KAAKA,CAACA,CAACA;wBAC1BA,CAACA;qBACFA,CAACA;oBAEFA,EAAEA,CAACA,CAACA,IAAIA,CAACA,YAAYA,KAAKA,OAAOA,CAACA,CAACA,CAACA;wBAClCA,OAAOA,CAACA,MAAMA,GAAGA,CAACA;4BAChBA,IAAIA,KAAKA,GAAGA,sDAAsDA,CAACA;4BACnEA,MAAMA,CAACA,MAAMA,CAACA,SAASA,CAACA;iCACfA,MAAMA,CAACA,KAAKA,CAACA;iCACbA,SAASA,CAACA;wBACrBA,CAACA,CAACA,CAACA;oBACLA,CAACA;oBACDA,SAASA;yBACNA,UAAUA,CAACA,OAAOA,CAACA;yBACnBA,UAAUA,CAACA,YAAYA,CAACA;yBACxBA,QAAQA,CAACA,eAAeA,CAACA,CAACA;oBAC7BA,UAAUA,CAACA;wBACTA,SAASA,CAACA,GAAGA,CAACA,KAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,KAAIA,CAACA,WAAWA,CAACA,CAACA,CAACA;wBACtDA,SAASA,CAACA,UAAUA,CAACA,SAASA,CAACA,CAACA;oBAClCA,CAACA,EAAEA,GAAGA,CAACA,CAACA;gBACVA,CAACA;gBAtCDH;oBAACA,YAAKA,EAAEA;;mBAACA,mCAAWA,UAASA;gBAC7BA;oBAACA,YAAKA,EAAEA;;mBAACA,iCAASA,UAAMA;gBACxBA;oBAACA,YAAKA,EAAEA;;mBAACA,oCAAYA,UAAMA;gBAZ7BA;oBAACA,gBAASA,CAACA;wBACTA,QAAQA,EAAEA,eAAeA;wBACzBA,MAAMA,EAAEA,CAACA,WAAWA,CAACA;wBACrBA,UAAUA,EAAEA,CAACA,aAAaA,EAAEA,cAAcA,CAACA;wBAC3CA,SAASA,EAAEA,CAACA,6BAA6BA,CAACA;wBAC1CA,aAAaA,EAAEA,wBAAiBA,CAACA,IAAIA;wBACrCA,QAAQA,EAAEA,2BAA2BA;qBACtCA,CAACA;;+BA0CDA;gBAADA,iBAACA;YAADA,CAjDA,AAiDCA,IAAA;YAjDD,mCAiDC,CAAA;YAAA,CAAC","file":"app/components/form/select-menu.js","sourcesContent":["import {Component, OnInit, ElementRef, ViewEncapsulation, Input} from 'angular2/core';\n\ndeclare var jQuery:any;\n\n@Component({\n  selector: '[select-menu]',\n  inputs: ['formModel'],\n  properties: ['controlName', 'selectFormat'],\n  styleUrls: ['styles/form/select-menu.css'],\n  encapsulation: ViewEncapsulation.None,\n  template: `<ng-content></ng-content>`\n})\n\nexport class SelectMenu implements OnInit {\n  @Input() controlName: string;\n  @Input() formModel: any;\n  @Input() selectFormat: any;\n  constructor(private elementRef: ElementRef) {}\n\n  updateModel(value) {\n    jQuery('#' + this.controlName).val(value);\n    this.formModel.value[this.controlName] = value;\n    this.formModel.valueChanges.next(this.formModel.value);\n  }\n\n  ngOnInit() {\n    let selectBox = jQuery(this.elementRef.nativeElement);\n    let options: any = {\n      style: 'popup',\n      width: 'auto',\n      select: (e, obj) => {\n        let value = obj.item.value;\n        this.updateModel(value);\n      }\n    };\n\n    if (this.selectFormat === 'input') {\n      options.format = (() => {\n        let input = '<input class=\"other\" type=\"text\" value=\"Other...\" />';\n        return jQuery('<span/>')\n                .append(input)\n                .outerHTML;\n      });\n    }\n    selectBox\n      .selectmenu(options)\n      .selectmenu('menuWidget')\n      .addClass('max-selectbox');\n    setTimeout(() => {\n      selectBox.val(this.formModel.value[this.controlName]);\n      selectBox.selectmenu('refresh');\n    }, 200);\n  }\n};\n"],"sourceRoot":"/source/"}